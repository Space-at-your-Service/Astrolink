(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d75dbfc"],{"0591":function(t,e,n){"use strict";n("a8f4")},1330:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container"},[n("b-card",{staticClass:"text-dark text-center",attrs:{"header-tag":"header","footer-tag":"footer"},scopedSlots:t._u([{key:"header",fn:function(){return[n("h2",{staticStyle:{"font-variant-caps":"small-caps"}},[t._v(t._s(t.experiment.title))]),n("expBadge",{attrs:{status:t.experiment.status}})]},proxy:!0},{key:"footer",fn:function(){return[t.isAllowed("activities.change_experiment")?n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.editModal",modifiers:{editModal:!0}}],attrs:{variant:"info"},on:{click:function(e){return t.editModal(t.experiment)}}},[n("b-icon",{attrs:{icon:"pencil-square"}}),t._v(" Edit")],1):t._e()]},proxy:!0}])},[n("b-card-text",{staticClass:"p-3"},[n("b-row",[n("b-col",[n("strong",[t._v("Supervised by")]),n("br"),t._v(" "+t._s(t.experiment.supervisor)+" ")]),n("b-col",[n("img",{staticClass:"mb-3",attrs:{src:t.defaultExperimentLogo,alt:"Experiment logo",width:"250px"}}),n("br")]),n("b-col",[n("strong",[t._v("Carried by")]),n("br"),t._l(t.experiment.operators,(function(e){return n("div",{key:e},[t._v(t._s(e))])}))],2)],1),n("b-container",{staticClass:"mb-2 py-3"},[n("h4",[t._v("Abstract")]),t._v(" "+t._s(t.experiment.abstract)+" ")]),n("b-container",{staticClass:"mb-2 py-3"},[n("h4",[t._v("Description")]),t._v(" "+t._s(t.experiment.description)+" ")]),n("b-container",{staticClass:"my-2 py-3",staticStyle:{"border-top-style":"solid","border-top-width":"1px"}},[n("h4",[t._v("Protocol")]),n("ul",t._l(t.experiment.procedures,(function(e){return n("li",{key:e.nick,staticClass:"hover-pointer hover-bg-grey",on:{click:function(n){return t.openPDF(e.title)}}},[t._v(" ["+t._s(e.type)+" > "+t._s(e.subtype)+"] "),n("strong",[t._v(t._s(e.title))])])})),0)]),n("b-container",{staticClass:"my-2 py-3",staticStyle:{"border-top-style":"solid","border-top-width":"1px"}},[n("h4",[t._v("Data")]),n("b-row",[n("b-col",[t.isAllowed("activities.view_textsheet")?n("div",[n("h5",[n("b-icon",{attrs:{icon:"file-earmark-richtext",variant:"primary"}}),t._v(" Textsheets")],1),n("ul",t._l(t.experiment.data.textsheets,(function(e){return n("li",{key:e.title,staticClass:"my-3"},[n("router-link",{attrs:{to:"/experiments/"+t.experiment.title+"/data/textsheets/"+e.id}},[t._v(" "+t._s(e.title)+" ")]),n("br"),n("strong",[t._v("Created:")]),t._v(" "+t._s(t.dateFormat(e.creationDate))+" "),n("strong",[t._v("by:")]),t._v(" "+t._s(e.creator)),n("br"),n("strong",[t._v("Last modified:")]),t._v(" "+t._s(t.dateFormat(e.lastModifiedDate))+" "),n("strong",[t._v("by:")]),t._v(" "+t._s(e.lastUser)+" ")],1)})),0)]):t._e(),n("div",[t.isAllowed("activities.add_textsheet")?n("router-link",{attrs:{to:"/experiments/"+t.experiment.title+"/data/textsheets/new-entry"}},[n("b-button",{staticClass:"m-1",attrs:{variant:"primary",size:"sm"}},[n("b-icon",{attrs:{icon:"file-earmark-plus"}}),t._v(" New textsheet")],1)],1):t._e()],1)])],1)],1)],1)],1),n("b-modal",{attrs:{id:"editModal",title:"Experiment edit",centered:""},on:{ok:t.okEdit}},[n("form",[n("b-form-group")],1),t.isAllowed("activities.delete_experiment")?n("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.deleteExperiment(t.editedExperiment)}}},[n("b-icon",{attrs:{icon:"trash"}}),t._v(" Delete experiment ")],1):t._e()],1)],1)},r=[],a=n("5530"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("f80e")),s=n("ab5f"),c=n("d4ec"),l=n("bee2"),d=function(){function t(){Object(c["a"])(this,t)}return Object(l["a"])(t,[{key:"dateStringNow",value:function(){var t=new Date,e={year:"numeric",month:"numeric",day:"numeric"},n={hour:"2-digit",minute:"2-digit"};return t.toLocaleDateString("en-CH",e)+" at "+t.toLocaleTimeString("en-CH",n)}},{key:"dateString",value:function(t){var e=new Date(t),n={year:"numeric",month:"numeric",day:"numeric"},i={hour:"2-digit",minute:"2-digit"};return e.toLocaleDateString("en-CH",n)+" at "+e.toLocaleTimeString("en-CH",i)}}]),t}(),u=new d,p=n("7938"),m=n("8530"),b=n("9a53"),f=n("2f62"),v={components:{expBadge:o["a"]},data:function(){return{editedExperiment:new b["a"]}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(f["d"])("experiment",["defaultExperimentLogo"])),Object(f["c"])("user",["isAllowed"])),{},{experiment:function(){return this.$store.getters["experiment/getExperimentByTitle"](this.$route.params.experimentTitle)}}),methods:{openPDF:function(t){s["a"].getFile(t).then((function(t){var e=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(e);return n})).then((function(e){window.open(e,t)}))},dateFormat:function(t){return u.dateString(t)},editModal:function(t){this.editedExperiment=t},okEdit:function(){},deleteExperiment:function(t){var e=this;p["a"].confirmDelete(this,"Do you really want to remove this experiment from the database ?").then((function(n){n&&e.$store.dispatch("experiment/deleteExperiment",t).then((function(){e.$bvModal.hide("editModal"),m["a"].toastSuccess(e,"Experiment deleted","The experiment has been successfully deleted."),e.$router.go(-1)})).catch((function(){m["a"].toastError(e,"Could not delete","Could not delete the experiment.")}))}))}}},h=v,g=(n("0591"),n("2877")),x=Object(g["a"])(h,i,r,!1,null,"e2241710",null);e["default"]=x.exports},7938:function(t,e,n){"use strict";var i=n("d4ec"),r=n("bee2"),a=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,[{key:"confirmDelete",value:function(t,e){return t.$bvModal.msgBoxConfirm(e,{title:"Confirm Delete",size:"sm",buttonSize:"md",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",centered:!0}).then((function(t){return t})).catch((function(t){return console.log(t)}))}},{key:"okMessage",value:function(t,e){return t.$bvModal.msgBoxOk(e,{title:"Confirm Delete",size:"sm",buttonSize:"md",okVariant:"primary",cancelTitle:"",footerClass:"p-2",hideHeader:!0,centered:!0}).catch((function(t){return console.log(t)}))}}]),t}();e["a"]=new a},8530:function(t,e,n){"use strict";var i=n("d4ec"),r=n("bee2"),a=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,[{key:"toastSuccess",value:function(t,e,n){return t.$bvToast.toast(n,{title:e,variant:"success",solid:!0})}},{key:"toastInfo",value:function(t,e,n){return t.$bvToast.toast(n,{title:e,variant:"info",solid:!0})}},{key:"toastWarning",value:function(t,e,n){return t.$bvToast.toast(n,{title:e,variant:"warning",solid:!0})}},{key:"toastError",value:function(t,e,n){return t.$bvToast.toast(n,{title:e,variant:"danger",solid:!0})}}]),t}();e["a"]=new a},"9a53":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("d4ec"),r=(n("a4d3"),n("e01a"),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];Object(i["a"])(this,t),this.title=e,this.abstract=n,this.description=r,this.operators=a,this.supervisor=o,this.procedures=s,this.data={textsheets:[],spreadsheets:[]},this.status="planned"})},a8f4:function(t,e,n){},f80e:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:["badge",{"badge-primary":"planned"===t.status},{"badge-warning":"ongoing"===t.status},{"badge-success":"complete"===t.status},{"badge-danger":"aborted"===t.status}]},[t._v(t._s(t.status)+" ")])},r=[],a={name:"expBadge",props:["status"]},o=a,s=n("2877"),c=Object(s["a"])(o,i,r,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-6d75dbfc.3de6de3f.js.map